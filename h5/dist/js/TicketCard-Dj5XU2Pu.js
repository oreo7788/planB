import{_ as V}from"./_plugin-vue_export-helper-BGiHQUbd.js";import"./index-D1BevRgO.js";import{I as $}from"./index-Er0kk77V.js";import{T as O}from"./index-Das1Xvnf.js";import{d as Z,U as X,O as J,c as Y,f as h,aF as j,N as q,I as Q,i as W,k as f,l as c,q as a,an as ee,s as t,a1 as n,t as s,am as G,aG as te,y as p,F as H,z as x,A as B,v as S,L as ae}from"./index-BzANx2fI.js";const[oe,R]=Y("tag"),se={size:String,mark:Boolean,show:J,type:X("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var ce=Z({name:oe,props:se,emits:["close"],setup(e,{slots:_,emit:r}){const M=k=>{k.stopPropagation(),r("close",k)},A=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},E=()=>{var k;const{type:g,mark:y,plain:m,round:I,size:T,closeable:z}=e,l={mark:y,plain:m,round:I};T&&(l[T]=T);const C=z&&h(Q,{name:"cross",class:[R("close"),q],onClick:M},null);return h("span",{style:A(),class:R([l,g])},[(k=_.default)==null?void 0:k.call(_),C])};return()=>h(j,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?E():null]})}});const ie=W(ce),ne={CA:{code:"CA",name:"中国国际航空",shortName:"国航",color:"#C41230"},MU:{code:"MU",name:"中国东方航空",shortName:"东航",color:"#003399"},CZ:{code:"CZ",name:"中国南方航空",shortName:"南航",color:"#005BAC"},HU:{code:"HU",name:"海南航空",shortName:"海航",color:"#C8102E"},"3U":{code:"3U",name:"四川航空",shortName:"川航",color:"#E60012"},MF:{code:"MF",name:"厦门航空",shortName:"厦航",color:"#003D79"},ZH:{code:"ZH",name:"深圳航空",shortName:"深航",color:"#E4002B"},FM:{code:"FM",name:"上海航空",shortName:"上航",color:"#E31837"},HO:{code:"HO",name:"吉祥航空",shortName:"吉祥",color:"#D4001A"},"9C":{code:"9C",name:"春秋航空",shortName:"春秋",color:"#6AB547"},SC:{code:"SC",name:"山东航空",shortName:"山航",color:"#0066B3"},GS:{code:"GS",name:"天津航空",shortName:"天航",color:"#003DA5"},KN:{code:"KN",name:"联合航空",shortName:"联航",color:"#E60012"},BK:{code:"BK",name:"奥凯航空",shortName:"奥凯",color:"#003087"},EU:{code:"EU",name:"成都航空",shortName:"成航",color:"#E4002B"},GJ:{code:"GJ",name:"长龙航空",shortName:"长龙",color:"#00529B"},TV:{code:"TV",name:"西藏航空",shortName:"藏航",color:"#003DA5"},DR:{code:"DR",name:"瑞丽航空",shortName:"瑞丽",color:"#E4002B"},PN:{code:"PN",name:"西部航空",shortName:"西部",color:"#E60012"},G5:{code:"G5",name:"华夏航空",shortName:"华夏",color:"#003DA5"},NS:{code:"NS",name:"河北航空",shortName:"河北",color:"#005BAC"},CN:{code:"CN",name:"大新华航空",shortName:"大新华",color:"#C8102E"},Y8:{code:"Y8",name:"扬子江航空",shortName:"扬子江",color:"#003087"},GT:{code:"GT",name:"桂林航空",shortName:"桂林",color:"#00A651"},QW:{code:"QW",name:"青岛航空",shortName:"青航",color:"#003DA5"},DZ:{code:"DZ",name:"东海航空",shortName:"东海",color:"#003087"},"8L":{code:"8L",name:"祥鹏航空",shortName:"祥鹏",color:"#FF6600"},A6:{code:"A6",name:"红土航空",shortName:"红土",color:"#C41230"},CX:{code:"CX",name:"国泰航空",shortName:"国泰",color:"#005A49"},KA:{code:"KA",name:"港龙航空",shortName:"港龙",color:"#C8102E"},HX:{code:"HX",name:"香港航空",shortName:"港航",color:"#C8102E"},NX:{code:"NX",name:"澳门航空",shortName:"澳航",color:"#00529B"},BR:{code:"BR",name:"长荣航空",shortName:"长荣",color:"#00A651"},CI:{code:"CI",name:"中华航空",shortName:"华航",color:"#7B2D82"},AA:{code:"AA",name:"美国航空",shortName:"美航",color:"#0078D2"},UA:{code:"UA",name:"美联航",shortName:"美联航",color:"#002244"},DL:{code:"DL",name:"达美航空",shortName:"达美",color:"#E31837"},BA:{code:"BA",name:"英国航空",shortName:"英航",color:"#075AAA"},AF:{code:"AF",name:"法国航空",shortName:"法航",color:"#002157"},LH:{code:"LH",name:"汉莎航空",shortName:"汉莎",color:"#05164D"},SQ:{code:"SQ",name:"新加坡航空",shortName:"新航",color:"#F9A01B"},EK:{code:"EK",name:"阿联酋航空",shortName:"阿航",color:"#D71921"},QR:{code:"QR",name:"卡塔尔航空",shortName:"卡航",color:"#5C0632"},TG:{code:"TG",name:"泰国航空",shortName:"泰航",color:"#5C2D91"},JL:{code:"JL",name:"日本航空",shortName:"日航",color:"#C8102E"},NH:{code:"NH",name:"全日空",shortName:"全日空",color:"#003DA5"},KE:{code:"KE",name:"大韩航空",shortName:"大韩",color:"#004990"},OZ:{code:"OZ",name:"韩亚航空",shortName:"韩亚",color:"#C8102E"},QF:{code:"QF",name:"澳洲航空",shortName:"澳航",color:"#E40000"},AC:{code:"AC",name:"加拿大航空",shortName:"加航",color:"#C8102E"}};function le(e){if(!e)return null;const _=e.match(/^([A-Z0-9]{2})/i);if(!_)return null;const r=_[1].toUpperCase();return ne[r]||null}const re={class:"flight-accent"},de={key:0,class:"airline-code"},me={class:"flight-body"},ue={class:"flight-header"},he={class:"header-left"},ve={class:"flight-number"},ke={key:0,class:"flight-thumbnail"},fe={class:"flight-route"},Ne={class:"flight-point departure"},ge={class:"code"},ye={class:"city"},_e={key:0,class:"time"},Ce={class:"flight-line"},pe={key:0,class:"flight-duration"},Ae={class:"flight-point arrival"},Ee={class:"code"},Te={class:"city"},be={key:0,class:"time"},De={key:0,class:"next-day"},Be={class:"flight-footer"},Se={class:"flight-datetime"},we={key:0,class:"flight-price"},Ie={key:0,class:"flight-tags"},ze={key:1,class:"flight-note"},Fe={class:"note-text"},He={class:"train-body"},xe={class:"train-header"},Me={class:"train-number"},Le={class:"train-route"},Ge={class:"train-station departure"},Ue={class:"station-name"},Ke={class:"train-arrow"},Pe={class:"train-station arrival"},Re={class:"station-name"},Ze={class:"train-footer"},Qe={class:"train-seat ellipsis"},Ve={key:0,class:"train-price"},$e={class:"show-header"},Oe={class:"show-icon"},Xe={class:"show-content"},Je={class:"show-title"},Ye={key:0,class:"show-venue"},je={class:"show-footer"},qe={class:"show-info"},We={key:0,class:"show-seat ellipsis"},et={class:"show-datetime"},tt={key:0},at={class:"show-badge"},ot={key:0,class:"show-tags"},st={class:"scenic-image"},ct={key:1,class:"placeholder"},it={class:"scenic-overlay"},nt={class:"scenic-info"},lt={class:"ticket-name"},rt={key:0,class:"location"},dt={class:"scenic-date"},mt={key:0,class:"scenic-footer"},ut={class:"card-image"},ht={key:1,class:"placeholder"},vt={class:"card-content"},kt={class:"card-header"},ft={class:"ticket-name ellipsis"},Nt={key:0,class:"ticket-subtitle ellipsis"},gt={class:"card-footer"},yt={key:0,class:"ticket-date"},_t={key:1,class:"card-tags"},Ct=Z({__name:"TicketCard",props:{ticket:{}},emits:["click"],setup(e,{emit:_}){const r=e,M=_,A=f(()=>O[r.ticket.type]),E=f(()=>r.ticket.type!=="flight"?null:le(r.ticket.tripNumber||"")),k=f(()=>{const o=r.ticket.type;return o==="flight"?"flight":o==="train"?"train":o==="show"?"show":["movie","exhibition"].includes(o)?"horizontal":o==="scenic"?"scenic":"default"}),g=f(()=>{if(!r.ticket.date)return"";const o=new Date(r.ticket.date);return`${o.getFullYear()}.${String(o.getMonth()+1).padStart(2,"0")}.${String(o.getDate()).padStart(2,"0")}`}),y=f(()=>{var i,v;const o=r.ticket.location;return o?o.type==="route"?`${((i=o.departure)==null?void 0:i.city)||""} → ${((v=o.arrival)==null?void 0:v.city)||""}`:o.city||o.address||"":""}),m=f(()=>{var i,v,N,u,b,d,D,w;const o=r.ticket.location;return!o||o.type!=="route"?{departure:"",arrival:"",departureCode:"",arrivalCode:"",departureTime:"",arrivalTime:""}:{departure:((i=o.departure)==null?void 0:i.city)||((v=o.departure)==null?void 0:v.station)||"",arrival:((N=o.arrival)==null?void 0:N.city)||((u=o.arrival)==null?void 0:u.station)||"",departureCode:((b=o.departure)==null?void 0:b.code)||"",arrivalCode:((d=o.arrival)==null?void 0:d.code)||"",departureTime:((D=o.departure)==null?void 0:D.time)||"",arrivalTime:((w=o.arrival)==null?void 0:w.time)||""}}),I=f(()=>{const o=m.value.departureTime,i=m.value.arrivalTime;if(!o||!i)return{duration:"",isNextDay:!1};const[v,N]=o.split(":").map(Number),[u,b]=i.split(":").map(Number);let d=v*60+N,D=u*60+b;const w=D<d;w&&(D+=24*60);const L=D-d,U=Math.floor(L/(24*60)),K=Math.floor(L%(24*60)/60),P=L%60,F=[];return U>0&&F.push(`${U}d`),K>0&&F.push(`${K}h`),P>0&&F.push(`${P}m`),{duration:F.join(" ")||"0m",isNextDay:w}}),T=f(()=>I.value.duration),z=f(()=>{const o=[];return y.value&&!["train","flight"].includes(r.ticket.type)&&o.push(y.value),r.ticket.note&&o.push(r.ticket.note.slice(0,20)),o.join(" · ")||""}),l=f(()=>r.ticket.privacy==="masked"),C=()=>{M("click",r.ticket)};return(o,i)=>{const v=$,N=ie,u=Q,b=ae;return k.value==="flight"?(a(),c("div",{key:0,class:"ticket-card card-flight",style:ee(E.value?{"--airline-color":E.value.color}:{}),onClick:C},[t("div",re,[E.value?(a(),c("span",de,s(E.value.shortName),1)):n("",!0)]),t("div",me,[t("div",ue,[t("div",he,[t("span",ve,s(e.ticket.tripNumber||e.ticket.name),1),i[0]||(i[0]=t("span",{class:"flight-label"},"FLIGHT TICKET",-1))]),e.ticket.thumbnail||e.ticket.photo?(a(),c("div",ke,[h(v,{src:e.ticket.thumbnail||e.ticket.photo,fit:"cover",radius:"4",class:G({"is-masked":l.value})},null,8,["src","class"])])):n("",!0)]),t("div",fe,[t("div",Ne,[t("span",ge,s(l.value?"***":m.value.departureCode||m.value.departure.slice(0,3).toUpperCase()||"DEP"),1),t("span",ye,s(l.value?"***":m.value.departure),1),m.value.departureTime&&!l.value?(a(),c("span",_e,s(m.value.departureTime),1)):n("",!0)]),t("div",Ce,[i[1]||(i[1]=te('<div class="line-track" data-v-a87872fa><span class="line-dot" data-v-a87872fa></span><span class="line-dash" data-v-a87872fa></span><span class="plane-icon" data-v-a87872fa>✈</span><span class="line-dash" data-v-a87872fa></span><span class="line-dot" data-v-a87872fa></span></div>',1)),T.value&&!l.value?(a(),c("span",pe,s(T.value),1)):n("",!0)]),t("div",Ae,[t("span",Ee,s(l.value?"***":m.value.arrivalCode||m.value.arrival.slice(0,3).toUpperCase()||"ARR"),1),t("span",Te,s(l.value?"***":m.value.arrival),1),m.value.arrivalTime&&!l.value?(a(),c("span",be,[p(s(m.value.arrivalTime),1),I.value.isNextDay?(a(),c("sup",De,"+1")):n("",!0)])):n("",!0)])]),t("div",Be,[t("span",Se,s(g.value),1),e.ticket.price?(a(),c("span",we,"¥"+s(e.ticket.price),1)):n("",!0)]),e.ticket.tags&&e.ticket.tags.length>0?(a(),c("div",Ie,[(a(!0),c(H,null,x(e.ticket.tags.slice(0,3),d=>(a(),B(N,{key:d,size:"small",plain:"",color:"#3b82f6"},{default:S(()=>[p(s(d),1)]),_:2},1024))),128))])):n("",!0),e.ticket.note?(a(),c("div",ze,[h(u,{name:"edit",size:"12"}),t("span",Fe,s(e.ticket.note.slice(0,30))+s(e.ticket.note.length>30?"...":""),1)])):n("",!0)])],4)):k.value==="train"?(a(),c("div",{key:1,class:"ticket-card card-train",onClick:C},[i[5]||(i[5]=t("div",{class:"train-accent"},null,-1)),t("div",He,[t("div",xe,[t("span",Me,s(e.ticket.name),1),i[2]||(i[2]=t("span",{class:"train-label"},"HIGH-SPEED RAIL",-1))]),t("div",Le,[t("div",Ge,[t("span",Ue,s(l.value?"***":m.value.departure),1),i[3]||(i[3]=t("span",{class:"station-time"},"出发",-1))]),t("div",Ke,[h(u,{name:"arrow",size:"18",color:"#ccc"})]),t("div",Pe,[t("span",Re,s(l.value?"***":m.value.arrival),1),i[4]||(i[4]=t("span",{class:"station-time"},"到达",-1))])]),t("div",Ze,[t("span",Qe,s(e.ticket.note||g.value),1),e.ticket.price?(a(),c("span",Ve,"¥"+s(e.ticket.price),1)):n("",!0)])])])):k.value==="show"?(a(),c("div",{key:2,class:"ticket-card card-show",onClick:C},[t("div",$e,[t("div",Oe,[h(u,{name:"music-o",color:"#fff",size:"20"})]),i[6]||(i[6]=t("span",{class:"show-label"},"LIVE PERFORMANCE",-1))]),t("div",Xe,[t("h3",Je,s(e.ticket.name),1),y.value?(a(),c("p",Ye,s(l.value?"***":y.value),1)):n("",!0)]),t("div",je,[t("div",qe,[e.ticket.note?(a(),c("p",We,s(e.ticket.note),1)):n("",!0),t("p",et,[p(s(g.value),1),e.ticket.price?(a(),c("span",tt," · ¥"+s(e.ticket.price),1)):n("",!0)])]),t("div",at,[i[7]||(i[7]=t("span",{class:"badge-text"},"PASS",-1)),h(u,{name:"qr",size:"28",color:"rgba(255,255,255,0.8)"})])]),e.ticket.tags&&e.ticket.tags.length>0?(a(),c("div",ot,[(a(!0),c(H,null,x(e.ticket.tags.slice(0,2),d=>(a(),B(N,{key:d,size:"small",color:"rgba(255,255,255,0.2)","text-color":"#fff"},{default:S(()=>[p(s(d),1)]),_:2},1024))),128))])):n("",!0)])):k.value==="scenic"?(a(),c("div",{key:3,class:"ticket-card card-scenic",onClick:C},[t("div",st,[e.ticket.thumbnail||e.ticket.photo?(a(),B(v,{key:0,src:e.ticket.thumbnail||e.ticket.photo,fit:"cover",class:G({"is-masked":l.value})},null,8,["src","class"])):(a(),c("div",ct,[h(u,{name:A.value.icon,size:"48",color:A.value.color},null,8,["name","color"])])),t("div",it,[t("div",nt,[t("h3",lt,s(e.ticket.name),1),y.value?(a(),c("p",rt,[h(u,{name:"location-o",size:"12"}),p(" "+s(l.value?"***":y.value),1)])):n("",!0)]),t("span",dt,s(g.value),1)])]),e.ticket.tags&&e.ticket.tags.length>0?(a(),c("div",mt,[(a(!0),c(H,null,x(e.ticket.tags.slice(0,3),d=>(a(),B(N,{key:d,size:"small",plain:"",color:"#999"},{default:S(()=>[p(s(d),1)]),_:2},1024))),128))])):n("",!0)])):(a(),c("div",{key:4,class:"ticket-card card-horizontal",onClick:C},[t("div",ut,[e.ticket.thumbnail||e.ticket.photo?(a(),B(v,{key:0,src:e.ticket.thumbnail||e.ticket.photo,fit:"cover",class:G({"is-masked":l.value})},{loading:S(()=>[h(b,{type:"spinner",size:"20"})]),error:S(()=>[h(u,{name:"photo-fail",size:"32",color:"#ddd"})]),_:1},8,["src","class"])):(a(),c("div",ht,[h(u,{name:A.value.icon,size:"36",color:A.value.color},null,8,["name","color"])]))]),t("div",vt,[t("div",kt,[t("h3",ft,s(e.ticket.name),1),h(u,{name:"notes-o",class:"action-icon",color:"#ccc",size:"18"})]),z.value?(a(),c("p",Nt,s(l.value?"***":z.value),1)):n("",!0),t("div",gt,[g.value?(a(),c("span",yt,s(g.value),1)):n("",!0),e.ticket.tags&&e.ticket.tags.length>0?(a(),c("div",_t,[(a(!0),c(H,null,x(e.ticket.tags.slice(0,2),d=>(a(),B(N,{key:d,size:"small",plain:"",color:"#999"},{default:S(()=>[p(s(d),1)]),_:2},1024))),128))])):n("",!0)])])]))}}}),Dt=V(Ct,[["__scopeId","data-v-a87872fa"]]);export{Dt as T};
